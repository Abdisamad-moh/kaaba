{% extends 'base.html.twig' %}

{% block title %}Job seeker Registration
{% endblock %}

{% block body %}
	<style>
		.password-toggle-icon {
			position: absolute;
			right: 15px;
			top: 68%;
			transform: translateY(-50%);
			cursor: pointer;
		}

		.confirm-password-toggle-icon {
			position: absolute;
			right: 15px;
			top: 68%;
			transform: translateY(-50%);
			cursor: pointer;
		}

		.form_error li {
			color: rgb(218 55 70) !important
		}
	</style>
	<section class="section-login ">
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-xl-12 col-lg-12">
					<div class="card auth-box">
						<div class="row g-0">
							<div class="col-lg-5 bg_em">
								<div class="  p-5 h-100 text-dark">
									<div class="w-100">
										<div class="text-center mb-4 mt-5">
											<div class="gifbgem">
												<img src="{{asset('assets/images/sign_up.gif')}}" alt="" class="img-fluid rounded-3"></div>
											<ul class="list-unstyled pricing-details fs-14  text-dark text-start mt-5 ne">
												<li class="pricing-item ">
													<h5>Welcome to the best job portal for your career!</ht>
												</li>
												<li class="pricing-item"><img class="img-fluid" src="{{asset('assets/images/si.png')}}" alt="">Register for an account and access thousands of opportunities in your field.</li>
												<li class="pricing-item"><img class="img-fluid" src="{{asset('assets/images/si.png')}}" alt="">Create your profile and showcase your skills and achievements to potential employers.</li>
												<li class="pricing-item"><img class="img-fluid" src="{{asset('assets/images/si.png')}}" alt="">Don't miss this chance to find your dream job. Register now!</li>
											</ul>
											<div class="my-4">
												<span class="text-danger">
													Your password must be at least 8 characters long and include a mix of uppercase letters, lowercase letters, numbers, and special symbols.
												</span>
												<span class="text-danger d-block">
													Example: My$ecretP@ss12
												</span>
												<span class="d-block">

													Remember to avoid easily guessable patterns
													<br>(e.g., “12345678” or “password” or your “DOB”).

												</span>
												<span class="d-block">

													Stay secure!

												</span>
											</div>
										</div>

									</div>
								</div>
							</div>
							<div class="col-lg-7">
								<div class="section-title mt-4 mt-lg-0 p-5">
									<h3 class="title ">Jobseeker’s Signup</h3>
									<p class="text-muted ">Sign In to access the most advanced job search engine
									</p>
									{# <p class="text-muted ">Sign In to access the most advanced job search engine in Africa</p> #}
									<div class="container">
										{{ form_start(form, {attr: {'class': 'row', 'id': 'register_form'}}) }}
										<div class="col-lg-4 col-md-12">
											<div class="mb-3">
												<label for="formGroupExampleInput" class="form-label  fs-13">First Name</label>
												{{ form_widget(form.firstName, {'attr': {'class': (form_errors(form.firstName) ? 'form-control is-invalid' : 'form-control'), 'placeholder': 'What is your first name?'}}) }}
												<div class="form_error">
													{{ form_errors(form.firstName) }}
												</div>
											</div>
										</div>
										<div class="col-lg-4">
											<div class="mb-3">
												<label for="formGroupExampleInput" class="form-label  fs-13">Middle Name</label>

												{{ form_widget(form.middleName, {'attr': {'class': (form_errors(form.middleName) ? 'form-control is-invalid' : 'form-control'), 'placeholder': 'What is your middle name?'}}) }}
											</div>
										</div>
										<div class="col-lg-4">
											<div class="mb-3">
												<label for="formGroupExampleInput" class="form-label  fs-13">Last Name</label>

												{{ form_widget(form.lastName, {'attr': {'class': (form_errors(form.lastName) ? 'form-control is-invalid' : 'form-control'), 'placeholder': 'What is your last name?'}}) }}
												<div class="form_error">
													{{ form_errors(form.lastName) }}
												</div>
											</div>
										</div>
										<div class="col-lg-12">
											<div class="mb-3">
												<label for="formGroupExampleInput" class="form-label  fs-13">Email ID</label>

												{{ form_widget(form.email, {'attr': {'class': (form_errors(form.email) ? 'form-control is-invalid' : 'form-control'), 'placeholder': 'What is your email id?'}}) }}
												<div class="form_error">
													{{ form_errors(form.email) }}
												</div>
											</div>
										</div>
										<div class="col-lg-12">
											<div class="mb-3 position-relative">
												<label for="formGroupExampleInput" class="form-label  fs-13">Password</label>

												{{ form_widget(form.plainPassword, {'attr': {'class': (form_errors(form.plainPassword) ? 'form-control is-invalid pass' : 'form-control pass'), 'placeholder': 'Create a password for your account'}}) }}
												<div class="form_error">
													{{ form_errors(form.plainPassword) }}
												</div>
												<span id="togglePassword" class="password-toggle-icon" onclick="togglePasswordVisibility(this)">
													<i class="fa fa-eye"></i>
												</span>
											</div>
										</div>
										<div class="col-lg-12">
											<div class="mb-3 position-relative">
												<label for="formGroupExampleInput" class="form-label  fs-13">Confirm</label>

												{{ form_widget(form.confirmPassword, {'attr': { 'placeholder': 'Confirm your password', 'class': (form_errors(form.confirmPassword) ? 'form-control is-invalid pass' : 'form-control pass')}}) }}
												<span id="togglePassword" class="confirm-password-toggle-icon" onclick="togglePasswordVisibility(this)">
													<i class="fa fa-eye"></i>
												</span>
												<div class="form_error">
													{{ form_errors(form.confirmPassword) }}
												</div>
											</div>
										</div>
										<div class="col-lg-12">
											<div class="mb-3">
												<label for="formGroupExampleInput" class="form-label  fs-13">{{ form_label(form.dob) }}</label>
												<span class="d-block" style="font-style:italic">You must be at least 18 years old to register on Métier Quest Platform</span>
												{{ form_widget(form.dob, {'attr': {'class': (form_errors(form.dob) ? 'form-control is-invalid' : 'form-control')}}) }}
												<div class="form_error">
													{{ form_errors(form.dob) }}
												</div>
											</div>
										</div>
										<div class="col-lg-12">
											<div class="mb-3">
												<label for="formGroupExampleInput" class="form-label  fs-13">{{ form_label(form.agreeTerms) }}</label>

												{{ form_widget(form.agreeTerms, {'attr':  { 'class': (form_errors(form.agreeTerms) ? 'form-check-input is-invalid' : 'form-check-input'),'placeholder': 'Confirm your password for your account for your account'}}) }}
												<div class="form_error">
													{{ form_errors(form.agreeTerms) }}
												</div>
												<label class="form-check-label fs-11" for="SMS">By clicking Agree terms, you agree to the
													<a target="__blank" class="text-primary" href="{{ path("app_home_terms") }}">Terms and Conditions</a>
													&amp;
													<a target="__blank" class="text-primary" href="{{ path("app_home_privacy") }}">Privacy Policy of Metier metier-quest.com</a>
												</label>
												
											</div>
										</div>

										<div class="col-lg-12">
											<div class="text-center mt-3">
												<button type="submit" id="submit" name="submit" class="btn btn-primary lo_pa g-recaptcha" data-sitekey="{{ site_key }}" data-callback='onSubmit' data-size="invisible">
													Register</button>
											</div>
										</div>
										{{ form_end(form) }}
										<p class="mt-3 text-center">Already have an account ? &nbsp;<a href="{{ path('app_login') }}" class="fw-medium text-decoration-underline text-purple">Login
											</a>
										</p>
									</div>
								</div>

								<!--end col-->
							</div>
							<!--end row-->
						</div>
						<!--end auth-box-->
					</div>


				</div>
			</div>
		</section>
		{# <script src="https://www.google.com/recaptcha/api.js?hl=en"></script> #}
		<script>

			function onSubmit(token) {
				var form = document.getElementById('register_form');
				if (form.reportValidity()) {
					HTMLFormElement.prototype.submit.call(form);
				}
			// console.log('Form is being submitted'); // Debugging to see if this gets called
			// console.log(document.getElementById('register_form'))
			// document.getElementById('register_form').submit(); // Correctly targeting the form by ID
			}
		</script>

		<script src="https://www.google.com/recaptcha/api.js" async defer></script>
		<script>
			function togglePasswordVisibility($this) {

var passwordInput = $this.closest('div').querySelector('.pass');
var toggleIcon = $this.closest('div').querySelector('#togglePassword');

if (passwordInput.type === 'password') {
passwordInput.type = 'text';
toggleIcon.innerHTML = '<i class="fa fa-eye-slash"></i>';
} else {
passwordInput.type = 'password';
toggleIcon.innerHTML = '<i class="fa fa-eye"></i>';
}
}
		</script>
	{% endblock %}
