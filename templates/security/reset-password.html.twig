{% extends 'base.html.twig' %}

{% block title %}Reset password!
{% endblock %}

{% block body %}
	<style>
		.password-toggle-icon {
			position: absolute;
			right: 20px;
			top: 65%;
			transform: translateY(-50%);
			cursor: pointer;
		}

		.confirm-password-toggle-icon {
			position: absolute;
			right: 20px;
			top: 50%;
			transform: translateY(-50%);
			cursor: pointer;
		}
	</style>
	<div class="main-content bg-login">
		<div class="page-content">
			<section class="section-login ">
				<div class="container">
					<div class="row justify-content-center">
						<div class="col-xl-7 col-lg-6">
							<div class="card auth-box">
								<div class="row g-0">
									<div class="col-lg-12">
										<div class="section-title mt-4 mt-lg-0 p-5 ">
											<h3 class="title text-center">To reset your password please enter your email</h3>
											{# <p class="text-muted text-center">Sign Up to access the most advanced job search engine 
																																												</p> #}
											{# <p class="text-muted text-center">Sign Up to access the most advanced job search engine in Africa
																																												</p> #}


											{{ form_start(resetPasswordForm) }}
											<div class="col-lg-12">
												<div class="mb-3 position-relative">
													{{ form_label(resetPasswordForm.newPassword) }}

													{{ form_widget(resetPasswordForm.newPassword, {'attr': {'class': (form_errors(resetPasswordForm.newPassword) ? 'form-control is-invalid pass' : 'form-control pass'), 'placeholder': 'Create a password for your account'}}) }}
													<div style="color: #dc3545 !important">
														{{ form_errors(resetPasswordForm.newPassword) }}
													</div>
													<span id="togglePassword" class="password-toggle-icon" onclick="togglePasswordVisibility(this)">
														<i class="fa fa-eye"></i>
													</span>
												</div>
											</div>
											<div class="col-lg-12">
												<div class="mb-3 position-relative">
													{{ form_label(resetPasswordForm.confirmPassword) }}

													{{ form_widget(resetPasswordForm.confirmPassword, {'attr': { 'placeholder': 'Confirm your password', 'class': (form_errors(resetPasswordForm.confirmPassword) ? 'form-control is-invalid pass' : 'form-control pass')}}) }}
													<div style="color: #dc3545 !important">
														{{ form_errors(resetPasswordForm.confirmPassword) }}
													</div>
													<span id="togglePassword" class="password-toggle-icon" onclick="togglePasswordVisibility(this)">
														<i class="fa fa-eye"></i>
													</span>
												</div>
											</div>
											<div class="py-3 text-center">
												<button type="submit" class="btn btn-primary">Submit</button>
											</div>
											{{ form_end(resetPasswordForm) }}


											<p class="mt-3 text-center">Donâ€™t have an account ? &nbsp;<a href="{{ path('app_jobseeker_register') }}" class="fw-medium text-decoration-underline text-purple">Register
												</a>
											</p>
										</div>
									</div>
								</div>
								<!--end row-->
							</div>
							<!--end auth-box-->
						</div>
					</div>
				</div>
			</section>

		</div>
	</div>

	<script>
		function togglePasswordVisibility($this) {
		console.log('yeey');
		var passwordInput = $this.closest('div').querySelector('.pass');
		var toggleIcon = $this.closest('div').querySelector('#togglePassword');

		if (passwordInput.type === 'password') {
		passwordInput.type = 'text';
		toggleIcon.innerHTML = '<i class="fa fa-eye-slash"></i>';
		} else {
		passwordInput.type = 'password';
		toggleIcon.innerHTML = '<i class="fa fa-eye"></i>';
		}
		}
	</script>
{% endblock %}
